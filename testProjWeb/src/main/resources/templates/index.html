<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Hello</title>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/bootstrap.min.css}" href="../../public/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/custom.css}" href="../../public/css/custom.css"/>
</head>
<body>
<div id="mainContainer">
    <!--Title-->
    <div class="row">
        <h1 class="col-sm-6">Available Users</h1>
        <label class="col-sm-2" for="ageFilter">Age Filter</label>
        <input id="ageFilter" name="ageFilter" class="col-sm-2" type="number"/>
        <button class="col-sm-2" id="filter-button">Set</button>
    </div>
    <!-- New User Form-->
    <div class="row">
        <form id="newUserForm" action="javascript:void(0)">
            <div class="form-group">
                <label for="vorname">Vorname:</label>
                <input type="text" name="vorname" id="vorname" class="form-control"/>
            </div>
            <div class="form-group">
                <label for="nachname">Nachname:</label>
                <input type="text" name="nachname" id="nachname" class="form-control"/>
            </div>
            <div class="form-group">
                <label for="alter">Alter:</label>
                <input type="text" name="alter" id="alter" class="form-control"/>
            </div>
            <div class="form-group">
                <button id="submit">Submit</button>
            </div>
        </form>
    </div>
    <!--User List Display-->
    <div th:fragment="content" id="list">
        <fieldset>
            <legend>Users</legend>
        <div class="userbox" th:each="user : ${users}">
            <!--User Info-->
            <div class="row">
                <input type="hidden" th:value="${user.pk}" />
                <div class="col-sm-2" th:text="${user.vorname}"></div>
                <div class="col-sm-2" th:text="${user.nachname}"></div>
                <div class="col-sm-1" th:text="${user.alter}"></div>
                <div class="col-sm-7">
                    <select id="roleSelect" class="col-sm-8">
                        <div th:each="role : ${roles}">
                            <option th:value="${role.name}" th:text="${role.name}"></option>
                        </div>
                    </select>
                    <button class="col-sm-4 js-assignRole">Assign</button>
                </div>
            </div>
            <!--Table of Roles, if User has roles-->
            <table class="row table" th:if="${user.role} != null">
                <thead>
                    <tr>
                        <th>Rolename</th>
                        <th>Code</th>
                        <th>Enabled</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td th:text="${user.role.name}"></td>
                        <td th:text="${user.role.code}"></td>
                        <td th:text="${user.role.enabled}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        </fieldset>
    </div>
</div>
<script th:src="@{/js/jquery-3.1.1.min.js}" src="../../public/js/jquery-3.1.1.min.js"></script>
<script th:src="@{/js/User.js}" src="../../public/js/User.js"></script>
</body>
</html>